"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{4954:function(e,t,r){r.d(t,{Z:function(){return i}});var a=r(7437),n=r(2265),s=r(9376),o=r(6602);function i(e){let{children:t,redirectTo:r="/users"}=e,i=(0,s.useRouter)(),{isAuthenticated:l,getMe:u,isLoading:d}=(0,o.t)(),c=(0,n.useRef)(!1),f=(0,n.useRef)(!1);return((0,n.useEffect)(()=>{c.current||f.current||l||(c.current=!0,u().catch(()=>{f.current=!0}))},[u,l]),(0,n.useEffect)(()=>{!d&&l&&i.push(r)},[l,d,i,r]),d&&!c.current)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):l?null:(0,a.jsx)(a.Fragment,{children:t})}},2381:function(e,t,r){r.d(t,{z:function(){return u}});var a=r(7437),n=r(2265),s=r(7053),o=r(535),i=r(3448);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:u=!1,...d}=e,c=u?s.g7:"button";return(0,a.jsx)(c,{className:(0,i.cn)(l({variant:n,size:o,className:r})),ref:t,...d})});u.displayName="Button"},9820:function(e,t,r){r.d(t,{Ol:function(){return i},SZ:function(){return u},Zb:function(){return o},aY:function(){return d},ll:function(){return l}});var a=r(7437),n=r(2265),s=r(3448);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});u.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},279:function(e,t,r){r.d(t,{I:function(){return o}});var a=r(7437),n=r(2265),s=r(3448);let o=n.forwardRef((e,t)=>{let{className:r,type:n,...o}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},5060:function(e,t,r){r.d(t,{_:function(){return u}});var a=r(7437),n=r(2265),s=r(6394),o=r(535),i=r(3448);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,i.cn)(l(),r),...n})});u.displayName=s.f.displayName},5291:function(e,t,r){r.d(t,{Bw:function(){return h},Ph:function(){return d},Ql:function(){return p},i4:function(){return f},ki:function(){return c}});var a=r(7437),n=r(2265),s=r(218),o=r(875),i=r(2135),l=r(401),u=r(3448);let d=s.fC;s.ZA;let c=s.B4,f=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,a.jsxs)(s.xz,{ref:t,className:(0,u.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[n,(0,a.jsx)(s.JO,{asChild:!0,children:(0,a.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=s.xz.displayName;let g=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.u_,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});g.displayName=s.u_.displayName;let m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.$G,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})});m.displayName=s.$G.displayName;let h=n.forwardRef((e,t)=>{let{className:r,children:n,position:o="popper",...i}=e;return(0,a.jsx)(s.h_,{children:(0,a.jsxs)(s.VY,{ref:t,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:o,...i,children:[(0,a.jsx)(g,{}),(0,a.jsx)(s.l_,{className:(0,u.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(m,{})]})})});h.displayName=s.VY.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.__,{ref:t,className:(0,u.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...n})}).displayName=s.__.displayName;let p=n.forwardRef((e,t)=>{let{className:r,children:n,...o}=e;return(0,a.jsxs)(s.ck,{ref:t,className:(0,u.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.wU,{children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(s.eT,{children:n})]})});p.displayName=s.ck.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.Z0,{ref:t,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",r),...n})}).displayName=s.Z0.displayName},1837:function(e,t,r){r.d(t,{g8:function(){return s},iJ:function(){return n}});let a=r(3464).Z.create({baseURL:"http://localhost:5000/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>Promise.reject(e));let n={signup:async e=>(await a.post("/auth/signup",e,{headers:{"Content-Type":"multipart/form-data"}})).data,login:async e=>(await a.post("/auth/login",e)).data,oauthLogin:async e=>(await a.post("/auth/oauth/login",e)).data,resetPassword:async e=>(await a.post("/auth/reset-password",e)).data,logout:async()=>(await a.post("/auth/logout")).data,getMe:async()=>(await a.get("/auth/me")).data},s={getAllUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await a.get("/users?page=".concat(e,"&limit=").concat(t))).data},getUserById:async e=>(await a.get("/users/".concat(e))).data,updateProfile:async e=>(await a.put("/users/profile",e,{headers:{"Content-Type":"multipart/form-data"}})).data,deleteUser:async e=>(await a.delete("/users/".concat(e))).data}},3448:function(e,t,r){r.d(t,{cn:function(){return s},n:function(){return i},p:function(){return o}});var a=r(1994),n=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function o(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function i(e){switch(e){case"MALE":return"Male";case"FEMALE":return"Female";case"OTHER":return"Other";case"PREFER_NOT_TO_SAY":return"Prefer not to say";default:return e}}},6602:function(e,t,r){r.d(t,{t:function(){return s}});var a=r(9625),n=r(1837);let s=(0,a.Ue)((e,t)=>({user:null,isLoading:!0,isAuthenticated:!1,login:async(t,r)=>{e({isLoading:!0});try{let a=await n.iJ.login({email:t,password:r});a.user&&(e({user:a.user,isAuthenticated:!0}),localStorage.setItem("auth",JSON.stringify({user:a.user,isAuthenticated:!0})))}catch(e){throw e}finally{e({isLoading:!1})}},oauthLogin:async(t,r,a)=>{e({isLoading:!0});try{console.log("Auth store: Starting OAuth login for provider:",t),console.log("Auth store: Access token length:",null==r?void 0:r.length),console.log("Auth store: User data:",a);let s=await n.iJ.oauthLogin({provider:t,accessToken:r,userData:a});return(console.log("Auth store: API response:",s),s.user)?(console.log("Auth store: Setting user and authentication state"),console.log("Auth store: User data to set:",s.user),e({user:s.user,isAuthenticated:!0}),localStorage.setItem("auth",JSON.stringify({user:s.user,isAuthenticated:!0})),console.log("Auth store: Saved to localStorage")):console.log("Auth store: No user in response"),s}catch(e){throw console.error("Auth store: OAuth login error:",e),e}finally{e({isLoading:!1})}},signup:async t=>{e({isLoading:!0});try{let r=await n.iJ.signup(t);r.user&&(e({user:r.user,isAuthenticated:!0}),localStorage.setItem("auth",JSON.stringify({user:r.user,isAuthenticated:!0})))}catch(e){throw e}finally{e({isLoading:!1})}},logout:async()=>{e({isLoading:!0});try{await n.iJ.logout(),e({user:null,isAuthenticated:!1}),localStorage.removeItem("auth")}catch(t){console.error("Logout error:",t),e({user:null,isAuthenticated:!1}),localStorage.removeItem("auth")}finally{e({isLoading:!1})}},getMe:async()=>{e({isLoading:!0});try{let t=await n.iJ.getMe();t.user?(e({user:t.user,isAuthenticated:!0}),localStorage.setItem("auth",JSON.stringify({user:t.user,isAuthenticated:!0}))):(e({user:null,isAuthenticated:!1}),localStorage.removeItem("auth"))}catch(r){var t;(null===(t=r.response)||void 0===t?void 0:t.status)===401||console.error("Auth check error:",r),e({user:null,isAuthenticated:!1}),localStorage.removeItem("auth")}finally{e({isLoading:!1})}},setUser:t=>{e({user:t,isAuthenticated:!!t}),t?localStorage.setItem("auth",JSON.stringify({user:t,isAuthenticated:!0})):localStorage.removeItem("auth")},reset:()=>{e({user:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("auth")},initialize:()=>{try{let t=localStorage.getItem("auth");if(t){let{user:r,isAuthenticated:a}=JSON.parse(t);e({user:r,isAuthenticated:a,isLoading:!1})}else e({isLoading:!1})}catch(t){console.error("Error loading auth state:",t),localStorage.removeItem("auth"),e({isLoading:!1})}}}))},6481:function(e,t,r){var a,n,s,o;r.d(t,{O:function(){return n},Y:function(){return a}}),(s=a||(a={})).MALE="MALE",s.FEMALE="FEMALE",s.OTHER="OTHER",s.PREFER_NOT_TO_SAY="PREFER_NOT_TO_SAY",(o=n||(n={})).FACEBOOK="FACEBOOK",o.GOOGLE="GOOGLE"}}]);