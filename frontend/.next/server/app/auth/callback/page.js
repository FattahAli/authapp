(()=>{var e={};e.id=453,e.ids=[453],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},3924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>d,pages:()=>l,routeModule:()=>p,tree:()=>c}),r(7455),r(9564),r(5866);var s=r(3191),a=r(8716),i=r(7922),o=r.n(i),n=r(5231),u={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>n[e]);r.d(t,u);let c=["",{children:["auth",{children:["callback",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7455)),"/home/fattahali37/Documents/Projects/authapp/frontend/src/app/auth/callback/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9564)),"/home/fattahali37/Documents/Projects/authapp/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],l=["/home/fattahali37/Documents/Projects/authapp/frontend/src/app/auth/callback/page.tsx"],d="/auth/callback/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/callback/page",pathname:"/auth/callback",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6767:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},1477:(e,t,r)=>{Promise.resolve().then(r.bind(r,381)),Promise.resolve().then(r.bind(r,4342)),Promise.resolve().then(r.bind(r,5686))},681:(e,t,r)=>{Promise.resolve().then(r.bind(r,8795))},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8795:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(326),a=r(7577),i=r(5047);r(2777);var o=r(6591);function n(){(0,i.useRouter)();let{oauthLogin:e}=(0,o.t)(),[t,r]=(0,a.useState)(!0),[n,u]=(0,a.useState)(!1);return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-white text-lg",children:t?"Processing authentication...":"Redirecting..."})]})})}r(5342),r(381)},4342:(e,t,r)=>{"use strict";r.d(t,{default:()=>a}),r(7577);var s=r(6591);function a(){let{initialize:e}=(0,s.t)();return null}},5686:(e,t,r)=>{"use strict";r.d(t,{F:()=>n,ThemeProvider:()=>o});var s=r(326),a=r(7577);let i=(0,a.createContext)(void 0);function o({children:e}){let[t,r]=(0,a.useState)("dark");return s.jsx(i.Provider,{value:{theme:t,toggleTheme:()=>{r(e=>"dark"===e?"light":"dark")}},children:e})}function n(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},8069:(e,t,r)=>{"use strict";r.d(t,{g8:()=>i,iJ:()=>a});let s=r(4099).Z.create({baseURL:"http://localhost:5000/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>Promise.reject(e));let a={signup:async e=>(await s.post("/auth/signup",e,{headers:{"Content-Type":"multipart/form-data"}})).data,login:async e=>(await s.post("/auth/login",e)).data,oauthLogin:async e=>(await s.post("/auth/oauth/login",e)).data,resetPassword:async e=>(await s.post("/auth/reset-password",e)).data,logout:async()=>(await s.post("/auth/logout")).data,getMe:async()=>(await s.get("/auth/me")).data},i={getAllUsers:async(e=1,t=10)=>(await s.get(`/users?page=${e}&limit=${t}`)).data,getUserById:async e=>(await s.get(`/users/${e}`)).data,updateProfile:async e=>(await s.put("/users/profile",e,{headers:{"Content-Type":"multipart/form-data"}})).data,deleteUser:async e=>(await s.delete(`/users/${e}`)).data}},2777:(e,t,r)=>{"use strict";r.d(t,{qj:()=>a});let s=(0,r(2997).eI)("https://apnzuylximlxhtjqiwid.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwbnp1eWx4aW1seGh0anFpd2lkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMDQ5MTQsImV4cCI6MjA2OTU4MDkxNH0.r-RAngC6orsWbkmI8gsbhqVPO7CI6c_NaLEEl_O76I0");async function a(){try{let{data:e,error:t}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${process.env.NEXT_PUBLIC_SITE_URL||"http://localhost:3000"}/auth/callback`}});if(t)throw t;return e}catch(e){throw console.error("Error signing in with Google:",e),e}}},6591:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var s=r(551),a=r(8069);let i=(0,s.Ue)((e,t)=>({user:null,isLoading:!0,isAuthenticated:!1,login:async(t,r)=>{e({isLoading:!0});try{let s=await a.iJ.login({email:t,password:r});s.user&&e({user:s.user,isAuthenticated:!0})}catch(e){throw e}finally{e({isLoading:!1})}},oauthLogin:async(t,r,s)=>{e({isLoading:!0});try{console.log("Auth store: Starting OAuth login for provider:",t),console.log("Auth store: Access token length:",r?.length),console.log("Auth store: User data:",s);let i=await a.iJ.oauthLogin({provider:t,accessToken:r,userData:s});return console.log("Auth store: API response:",i),i.user?(console.log("Auth store: Setting user and authentication state"),e({user:i.user,isAuthenticated:!0})):console.log("Auth store: No user in response"),i}catch(e){throw console.error("Auth store: OAuth login error:",e),e}finally{e({isLoading:!1})}},signup:async t=>{e({isLoading:!0});try{let r=await a.iJ.signup(t);r.user&&e({user:r.user,isAuthenticated:!0})}catch(e){throw e}finally{e({isLoading:!1})}},logout:async()=>{e({isLoading:!0});try{await a.iJ.logout(),e({user:null,isAuthenticated:!1})}catch(t){console.error("Logout error:",t),e({user:null,isAuthenticated:!1})}finally{e({isLoading:!1})}},getMe:async()=>{e({isLoading:!0});try{let t=await a.iJ.getMe();t.user?e({user:t.user,isAuthenticated:!0}):e({user:null,isAuthenticated:!1})}catch(t){t.response?.status===401||console.error("Auth check error:",t),e({user:null,isAuthenticated:!1})}finally{e({isLoading:!1})}},setUser:t=>{e({user:t,isAuthenticated:!!t})},reset:()=>{e({user:null,isAuthenticated:!1,isLoading:!1})},initialize:()=>{}}))},5342:(e,t,r)=>{"use strict";var s,a;r.d(t,{O:()=>a,Y:()=>s}),function(e){e.MALE="MALE",e.FEMALE="FEMALE",e.OTHER="OTHER",e.PREFER_NOT_TO_SAY="PREFER_NOT_TO_SAY"}(s||(s={})),function(e){e.FACEBOOK="FACEBOOK",e.GOOGLE="GOOGLE"}(a||(a={}))},7455:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/home/fattahali37/Documents/Projects/authapp/frontend/src/app/auth/callback/page.tsx#default`)},9564:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(9510),a=r(5317),i=r.n(a);r(5023);var o=r(9125),n=r(8570);let u=(0,n.createProxy)(String.raw`/home/fattahali37/Documents/Projects/authapp/frontend/src/contexts/theme-context.tsx#ThemeProvider`);(0,n.createProxy)(String.raw`/home/fattahali37/Documents/Projects/authapp/frontend/src/contexts/theme-context.tsx#useTheme`);let c=(0,n.createProxy)(String.raw`/home/fattahali37/Documents/Projects/authapp/frontend/src/components/auth/AuthInitializer.tsx#default`),l={title:"User Management App",description:"A secure full-stack user management application"};function d({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:i().className,suppressHydrationWarning:!0,children:(0,s.jsxs)(u,{children:[s.jsx(c,{}),e,s.jsx(o.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[118,997],()=>r(3924));module.exports=s})();